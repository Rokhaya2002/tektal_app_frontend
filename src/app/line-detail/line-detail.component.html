<!-- Commentaire ajoutÃ© par Alhassane pour test de contribution -->
<div class="back-wrapper">
  <!-- Bouton permettant de revenir Ã  la page prÃ©cÃ©dente -->
  <button class="back-btn" (click)="goBack()">â† Retour</button>
</div>

<div *ngIf="line" class="line-detail-container">
  <!-- En-tÃªte de la ligne -->
  <div class="line-header">
    <div class="line-icon">ğŸšŒ</div>
    <div class="line-title">
  <h1>{{ line.name }}</h1>
      <div class="line-type-badge">
        {{ line.name.includes("TATA") ? "TATA" : "DDD" }}
      </div>
    </div>
  </div>

  <!-- Informations du trajet -->
  <div class="trajet-info">
    <div class="trajet-route">
      <div class="departure-point">
        <span class="point-icon">ğŸ“</span>
        <div class="point-details">
          <span class="point-label">DÃ©part</span>
          <span class="point-name">{{ line.departure }}</span>
        </div>
      </div>

      <div class="route-arrow">
        <span class="arrow-line"></span>
        <span class="arrow-head">â†’</span>
        <span class="arrow-line"></span>
      </div>

      <div class="destination-point">
        <span class="point-icon">ğŸ¯</span>
        <div class="point-details">
          <span class="point-label">Destination</span>
          <span class="point-name">{{ line.destination }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Informations sur le sens -->
  <div class="direction-info">
    <h3>ğŸ”„ Sens de circulation</h3>
    <div class="direction-badges">
      <span class="direction-badge aller">
        <span class="badge-icon">â¡ï¸</span>
        Aller ({{ line.departure }} â†’ {{ line.destination }})
      </span>
      <span class="direction-badge retour">
        <span class="badge-icon">â¬…ï¸</span>
        Retour ({{ line.destination }} â†’ {{ line.departure }})
      </span>
    </div>
  </div>

  <!-- Liste des arrÃªts -->
  <div class="stops-section">
    <h2>ğŸš ArrÃªts de la ligne</h2>
    <div class="stops-info">
      <p>ğŸ“Š {{ line.stops.length }} arrÃªts au total</p>
    </div>

    <div class="stops-timeline">
  <ul class="stops-list">
        <li *ngFor="let stop of line.stops; let i = index" class="stop-item">
          <div class="stop-marker">
            <span class="stop-number">{{ stop.stop_order }}</span>
          </div>
          <div class="stop-content">
            <span class="stop-name">{{ stop.name }}</span>
            <span class="stop-position">{{
              i === 0
                ? "DÃ©part"
                : i === line.stops.length - 1
                ? "Terminus"
                : "ArrÃªt intermÃ©diaire"
            }}</span>
          </div>
    </li>
  </ul>
    </div>
  </div>

  <!-- Actions -->
  <div class="actions-section">
    <button
      class="action-btn search-btn"
      [routerLink]="['/search']"
      [queryParams]="{ from: line.departure, to: line.destination }"
    >
      ğŸ” Rechercher ce trajet
    </button>
    <button class="action-btn back-btn" (click)="goToLines()">
      ğŸ“‹ Voir toutes les lignes
    </button>
  </div>
</div>
